# AI驱动的本地文件Agent

一个基于AI的智能文件管理工具，支持自然语言交互来操作本地文件系统。通过先进的Tool Use技术，让文件操作变得更加智能和便捷。

## ✨ 功能特点

- 🤖 **AI驱动交互**：使用自然语言描述需求，AI自动选择合适工具执行
- 🧠 **智能理解**：支持中文自然语言，理解复杂的文件操作意图
- 🔧 **工具化架构**：模块化设计，每个操作都是独立的工具函数
- 📁 **全面文件操作**：查找、创建、删除、修改文件和文件夹
- 🔍 **智能搜索**：支持递归搜索和隐藏文件统计
- 🛣️ **智能路径处理**：支持特殊路径关键词和复杂路径格式
- 📦 **轻量级部署**：基于OpenAI兼容API，易于集成和部署

## 🚀 快速开始

### 环境要求
- Python 3+
- OpenAI兼容的API服务

### 安装依赖
```bash
pip install openai
```

### 配置API
在 `tool_use.py` 中配置你的API密钥和基础URL：
```python
self.client = OpenAI(
    api_key="your_api_key_here",
    base_url="your_api_base_url"
)
```

### 运行程序
```bash
python agent.py
```

## 💬 使用示例

### 查找文件
```
🎯 请描述你要做的操作 > 找桌面上的所有PDF文件
🤖 AI选择执行工具:
🔧 执行工具: find_files
✅ 在desktop中找到 3 个pdf文件:
  1. /Users/username/Desktop/报告.pdf
  2. /Users/username/Desktop/文档/说明书.pdf
  3. /Users/username/Desktop/资料/研究.pdf
```

### 创建文件
```
🎯 请描述你要做的操作 > 在桌面创建一个名为test.txt的文件
🤖 AI选择执行工具:
🔧 执行工具: create_file_or_folder
✅ 文件已创建: /Users/username/Desktop/test.txt
```

### 统计隐藏文件
```
🎯 请描述你要做的操作 > 统计主目录下有多少隐藏文件
🤖 AI选择执行工具:
🔧 执行工具: count_hidden_files
✅ 在~中找到 15 个隐藏文件
```

### 修改文件内容
```
🎯 请描述你要做的操作 > 修改test.txt的内容为Hello World
🤖 AI选择执行工具:
🔧 执行工具: modify_file_content
✅ 文件内容已修改: /Users/username/Desktop/test.txt
```

## 📁 项目结构

```
ai-file-agent/
├── tool.py          # 核心工具函数模块
├── tool_use.py      # AI工具使用模块
├── agent.py         # agent程序
└── README.md        # 项目说明文档
```

## 🔧 核心模块说明

### tool.py - 工具函数层
提供所有基础的文件操作功能：
- **路径处理**：智能路径标准化和特殊路径识别
- **文件搜索**：支持模式匹配和递归搜索
- **文件操作**：创建、删除、修改文件和文件夹
- **统计功能**：隐藏文件计数等

### tool_use.py - AI交互层
负责AI模型集成和工具调用：
- **工具定义**：将文件操作包装为AI可调用的工具
- **自然语言处理**：解析用户意图并选择合适工具
- **执行管理**：安全地执行AI选择的操作
- **结果反馈**：格式化操作结果并返回给用户

### agent.py - 用户界面层
提供友好的交互体验：
- **命令行界面**：简洁美观的用户交互
- **帮助系统**：内置帮助和使用指南
- **错误处理**：优雅的异常处理和用户提示

## 🛠️ 支持的操作

| 操作类型 | 描述 | 示例指令 |
|---------|------|---------|
| 📁 查找文件 | 在指定目录查找特定类型文件 | "找桌面上的PDF文件" |
| 📊 统计隐藏文件 | 统计目录下的隐藏文件数量 | "统计主目录的隐藏文件" |
| 📝 创建文件/文件夹 | 创建新的文件或文件夹 | "在桌面创建test.txt" |
| 🗑️ 删除文件/文件夹 | 删除指定文件或文件夹 | "删除临时文件夹" |
| ✏️ 修改文件内容 | 修改现有文件的内容 | "修改配置文件内容" |

## 🌟 高级功能

### 智能路径识别
支持多种路径格式：
- **特殊关键词**：`desktop`, `documents`, `downloads`, `home`
- **中文路径**：`桌面`, `文档`, `下载`, `主目录`
- **复合路径**：`desktop/folder/file.txt`
- **绝对路径**：`/Users/username/Documents/file.txt`

### 文件类型支持
支持常见文件类型：
- **文档**：pdf, txt, docx, doc
- **表格**：xlsx, xls
- **演示**：ppt, pptx
- **图片**：jpg, jpeg, png

### 智能搜索
- **递归搜索**：自动搜索子目录
- **隐藏文件过滤**：智能过滤系统隐藏文件
- **模式匹配**：支持通配符文件匹配


## 📝 使用技巧

1. **自然描述**：用自然语言描述你的需求，AI会理解并执行
2. **路径简化**：使用 `桌面`、`文档` 等关键词简化路径输入
3. **批量操作**：一次描述多个文件的操作需求
4. **帮助命令**：输入 `help` 获取详细使用指南

## ⚠️ 注意事项

- 程序会自动过滤隐藏文件（以 `.` 开头的文件）
- 删除操作不可逆
- 路径支持中文和特殊字符
- AI响应时间取决于网络和API服务质量
